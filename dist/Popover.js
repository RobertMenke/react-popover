!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["react","react-dom"],e);else{var n="object"==typeof exports?e(require("react"),require("react-dom")):e(t.react,t["react-dom"]);for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(0),f=o(a),c=n(1),u=o(c),p=function(t){function e(t){i(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={element:t.element,parent:t.parent,tooltip:null,element_rect:null,parent_rect:null,tooltip_rect:null,placement:t.placement,open:t.open,classes:"",top:0,left:0,cushion:0},n}return s(e,t),l(e,[{key:"getClassNames",value:function(){var t=this,e=this.getBaseClass(),n=this.props.placement;return"string"==typeof n?this.evaluateClassName(e,n):Array.isArray(n)?n.reduce(function(e,n){return t.evaluateClassName(e,n)},e):e}},{key:"evaluateClassName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(arguments[1]){case"auto":return t+" "+this.getAutoClasses();case"left":return t+" TooltipLeft";case"right":return t+" TooltipRight";case"top":return t+" TooltipAbove";case"bottom":return t+" TooltipBelow";case"element_left":return t+" TooltipAlignLeft";case"element_right":return t+" TooltipAlignRight";default:return t}}},{key:"getBaseClass",value:function(){return"string"==typeof this.props.classes?this.props.classes+" Tooltip":Array.isArray(this.props.classes)?this.props.classes.reduce(function(t,e){return t+" "+e},"")+" Tooltip":"Tooltip "}},{key:"getAutoClasses",value:function(){var t=window.innerHeight/2,e=window.innerWidth/2,n=this.state.element_rect;if(n instanceof ClientRect){return(n.left>e?"TooltipRight":"TooltipLeft")+" "+(n.top>t?"TooltipAbove":"TooltipBelow")+" autoplace"}return""}},{key:"getViewportDimensions",value:function(){var t=this.state.parent,e=this.state.element_rect,n=this.state.parent_rect;if(e instanceof ClientRect&&n instanceof ClientRect){return{left:e.left-n.left+t.scrollLeft,top:e.top-n.top+t.scrollTop,right:e.right-n.right,bottom:e.bottom-n.bottom,width:e.width,height:e.height}}throw new Error("Get the ClientRect object from the container and the element first!")}},{key:"getCenteredStyles",value:function(){var t=this.getViewportDimensions(),e=this.state.tooltip,n=this.state.element_rect;if(e instanceof HTMLElement&&n instanceof ClientRect)return{top:t.top-e.offsetHeight/2+n.height/2,left:t.left-e.offsetWidth/2+n.width/2};throw new Error("Attempted to position element prior the the element mounting")}},{key:"auto",value:function(){var t=window.innerHeight/2,e=window.innerWidth/2,n=this.state.element_rect;if(n instanceof ClientRect){var o=n.left>e?this.left:this.right,i=n.top>t?this.above:this.below;return this.combinePositions([o,i])}throw new Error("element_rect must be an instance of ClientRect!")}},{key:"above",value:function(){var t=this.state.tooltip,e=this.state.element,n=this.state.top_cushion;if(t instanceof HTMLElement){var o=this.getCenteredStyles();return{top:o.top-(e.offsetHeight/2+t.offsetHeight/2+n),left:o.left}}throw new Error("tooltip is not an instance of htmlelement")}},{key:"below",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.top_cushion;if(e instanceof HTMLElement)return{top:t.top+(n.offsetHeight/2+e.offsetHeight/2+o),left:t.left};throw new Error("tooltip is not an instance of htmlelement")}},{key:"left",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.left_cushion;if(e instanceof HTMLElement)return{top:t.top,left:t.left-(n.offsetWidth/2+e.offsetWidth/2+o)};throw new Error("tooltip is not an instance of htmlelement")}},{key:"right",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.left_cushion;if(e instanceof HTMLElement)return{top:t.top,left:t.left+(n.offsetWidth/2+e.offsetWidth/2+o)};throw new Error("tooltip is not an instance of htmlelement")}},{key:"elementLeft",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.left_cushion;if(e instanceof HTMLElement){var i=(n.offsetWidth-e.offsetWidth)/2;return{top:t.top,left:t.left-i-o}}throw new Error("tooltip is not an instance of htmlelement")}},{key:"elementRight",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.left_cushion;if(e instanceof HTMLElement){var i=(n.offsetWidth-e.offsetWidth)/2;return{top:t.top,left:t.left+i+o}}throw new Error("tooltip is not an instance of htmlelement")}},{key:"combinePositions",value:function(t){var e=this,n=this.getCenteredStyles();return t.map(function(t){return"function"==typeof t?t.call(e):e.evaluatePlacement(t)}).reduce(function(t,e){return{top:e.top!==n.top?e.top:t.top,left:e.left!==n.left?e.left:t.left}},Object.assign({},n))}},{key:"evaluatePlacement",value:function(t){switch(t){case"auto":return this.auto();case"left":return this.left();case"right":return this.right();case"top":return this.above();case"bottom":return this.below();case"element_left":return this.elementLeft();case"element_right":return this.elementRight();default:return this.getCenteredStyles()}}},{key:"getStyle",value:function(){if("string"==typeof this.props.placement)return this.evaluatePlacement(this.props.placement);if(Array.isArray(this.props.placement))return this.combinePositions(this.props.placement);throw new Error("placement was not defined correctly on popover")}},{key:"componentWillReceiveProps",value:function(t){this.setState({element:t.element,parent:t.parent,element_rect:t.element.getBoundingClientRect(),parent_rect:t.parent.getBoundingClientRect(),classes:this.getClassNames(),open:t.open,top_cushion:t.top_cushion||0,left_cushion:t.left_cushion||0,placement:t.placement})}},{key:"componentDidMount",value:function(){this.setState({tooltip:u.default.findDOMNode(this)})}},{key:"render",value:function(){return this.state.open?f.default.createElement("div",{className:this.getClassNames()+" visible",style:this.getStyle()},this.props.children):f.default.createElement("div",{className:this.getClassNames(),style:{visibility:"hidden"}},this.props.children)}}]),e}(a.Component);e.default=p}])});