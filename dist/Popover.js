!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("react-dom"),require("react"));else if("function"==typeof define&&define.amd)define(["react-dom","react"],e);else{var n="object"==typeof exports?e(require("react-dom"),require("react")):e(t["react-dom"],t.react);for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundingClientRectForElement=e.isDOMRect=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(0),i=function(t){return t&&t.__esModule?t:{default:t}}(r),s=function(t){return null!=t&&"object"===(void 0===t?"undefined":o(t))},l=function(t){if(!s(t))return!1;var e=t.top,n=t.left,o=t.right,r=t.bottom;return null!=e&&null!=n&&null!=o&&null!=r};e.isDOMRect=function(t){return window.DOMRect?t instanceof window.DOMRect:l(t)},e.getBoundingClientRectForElement=function(t){if(null!=t){if(t.getBoundingClientRect)return t.getBoundingClientRect();var e=i.default.findDOMNode(t);if(e.getBoundingClientRect)return e.getBoundingClientRect()}throw new TypeError("element is not an instanceof HTMLElement or a React component")}},function(t,n){t.exports=e},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=n(2),u=o(a),c=n(0),f=o(c),p=n(1),h=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={element:t.element,parent:t.parent,tooltip:null,element_rect:null,parent_rect:null,tooltip_rect:null,placement:t.placement,open:t.open,classes:"",top:0,left:0,cushion:0},n}return s(e,t),l(e,[{key:"getClassNames",value:function(){var t=this,e=this.getBaseClass(),n=this.props.placement;return"string"==typeof n?this.evaluateClassName(e,n):Array.isArray(n)?n.reduce(function(e,n){return t.evaluateClassName(e,n)},e):e}},{key:"evaluateClassName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(arguments[1]){case"auto":return t+" "+this.getAutoClasses();case"left":return t+" TooltipLeft";case"right":return t+" TooltipRight";case"top":return t+" TooltipAbove";case"bottom":return t+" TooltipBelow";case"element_left":return t+" TooltipAlignLeft";case"element_right":return t+" TooltipAlignRight";default:return t}}},{key:"getBaseClass",value:function(){return"string"==typeof this.props.classes?this.props.classes+" Tooltip":Array.isArray(this.props.classes)?this.props.classes.reduce(function(t,e){return t+" "+e},"")+" Tooltip":"Tooltip "}},{key:"getAutoClasses",value:function(){var t=window.innerHeight/2,e=window.innerWidth/2,n=this.state.element_rect;if((0,p.isDOMRect)(n)){return(n.left>e?"TooltipRight":"TooltipLeft")+" "+(n.top>t?"TooltipAbove":"TooltipBelow")+" autoplace"}return""}},{key:"getViewportDimensions",value:function(){var t=this.state.parent,e=this.state.element_rect,n=this.state.parent_rect;if((0,p.isDOMRect)(e)&&(0,p.isDOMRect)(n)){return{left:e.left-n.left+t.scrollLeft,top:e.top-n.top+t.scrollTop,right:e.right-n.right,bottom:e.bottom-n.bottom,width:e.width,height:e.height}}throw new Error("Get the DOMRect object from the container and the element first!")}},{key:"getCenteredStyles",value:function(){var t=this.getViewportDimensions(),e=this.state.tooltip,n=this.state.element_rect;if(e instanceof HTMLElement&&(0,p.isDOMRect)(n))return{top:t.top-e.offsetHeight/2+n.height/2,left:t.left-e.offsetWidth/2+n.width/2};throw new Error("Attempted to position element prior the the element mounting")}},{key:"auto",value:function(){var t=window.innerHeight/2,e=window.innerWidth/2,n=this.state.element_rect;if((0,p.isDOMRect)(n)){var o=n.left>e?this.left:this.right,r=n.top>t?this.above:this.below;return this.combinePositions([o,r])}throw new Error("element_rect must be an instance of DOMRect!")}},{key:"above",value:function(){var t=this.state.tooltip,e=this.state.element,n=this.state.top_cushion;if(t instanceof HTMLElement){var o=this.getCenteredStyles();return{top:o.top-(e.offsetHeight/2+t.offsetHeight/2+n),left:o.left}}throw new Error("tooltip is not an instance of htmlelement")}},{key:"below",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.top_cushion;if(e instanceof HTMLElement)return{top:t.top+(n.offsetHeight/2+e.offsetHeight/2+o),left:t.left};throw new Error("tooltip is not an instance of htmlelement")}},{key:"left",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.left_cushion;if(e instanceof HTMLElement)return{top:t.top,left:t.left-(n.offsetWidth/2+e.offsetWidth/2+o)};throw new Error("tooltip is not an instance of htmlelement")}},{key:"right",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.left_cushion;if(e instanceof HTMLElement)return{top:t.top,left:t.left+(n.offsetWidth/2+e.offsetWidth/2+o)};throw new Error("tooltip is not an instance of htmlelement")}},{key:"elementLeft",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.left_cushion;if(e instanceof HTMLElement){var r=(n.offsetWidth-e.offsetWidth)/2;return{top:t.top,left:t.left-r-o}}throw new Error("tooltip is not an instance of htmlelement")}},{key:"elementRight",value:function(){var t=this.getCenteredStyles(),e=this.state.tooltip,n=this.state.element,o=this.state.left_cushion;if(e instanceof HTMLElement){var r=(n.offsetWidth-e.offsetWidth)/2;return{top:t.top,left:t.left+r+o}}throw new Error("tooltip is not an instance of htmlelement")}},{key:"combinePositions",value:function(t){var e=this,n=this.getCenteredStyles();return t.map(function(t){return"function"==typeof t?t.call(e):e.evaluatePlacement(t)}).reduce(function(t,e){return{top:e.top!==n.top?e.top:t.top,left:e.left!==n.left?e.left:t.left}},Object.assign({},n))}},{key:"evaluatePlacement",value:function(t){switch(t){case"auto":return this.auto();case"left":return this.left();case"right":return this.right();case"top":return this.above();case"bottom":return this.below();case"element_left":return this.elementLeft();case"element_right":return this.elementRight();default:return this.getCenteredStyles()}}},{key:"getStyle",value:function(){if("string"==typeof this.props.placement)return this.evaluatePlacement(this.props.placement);if(Array.isArray(this.props.placement))return this.combinePositions(this.props.placement);throw new Error("placement was not defined correctly on popover")}},{key:"updateParentAndElementRectangles",value:function(t,e){var n=null,o=null;try{n=(0,p.getBoundingClientRectForElement)(t)}catch(t){}try{o=(0,p.getBoundingClientRectForElement)(e)}catch(t){}var r="not an instanceof HTMLElement or a React component.";if(null==n&&null==o)throw new TypeError("Both props.parent and props.element are "+r);if(null==n)throw new TypeError("props.parent is "+r);if(null==o)throw new TypeError("props.element is "+r);return{parent_rect:n,element_rect:o}}},{key:"componentWillReceiveProps",value:function(t){var e=this.updateParentAndElementRectangles(t.parent,t.element),n=e.parent_rect,o=e.element_rect;this.setState({element:t.element,parent:t.parent,element_rect:o,parent_rect:n,classes:this.getClassNames(),open:t.open,top_cushion:t.top_cushion||0,left_cushion:t.left_cushion||0,placement:t.placement})}},{key:"componentDidMount",value:function(){this.setState({tooltip:f.default.findDOMNode(this)})}},{key:"render",value:function(){return this.state.open?u.default.createElement("div",{className:this.getClassNames()+" visible",style:this.getStyle()},this.props.children):u.default.createElement("div",{className:this.getClassNames(),style:{visibility:"hidden"}},this.props.children)}}]),e}(a.Component);e.default=h}])});